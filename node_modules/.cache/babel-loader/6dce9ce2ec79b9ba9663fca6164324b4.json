{"ast":null,"code":"import axios from 'axios';\nimport dotenv from 'dotenv';\nconst URL = 'https://api.openweathermap.org/data/2.5/weather';\nconst result = dotenv.config({\n  path: '../.env'\n});\n\nif (result.error) {\n  throw result.error;\n}\n\nconsole.log(result.parsed);\nexport const fetchWeather = async query => {\n  console.log(process.env.API_KEY);\n  const data = await axios.get(URL, {\n    params: {\n      q: query,\n      appid: process.env.API_KEY,\n      units: 'Metric'\n    }\n  }).catch(function (error) {\n    if (error.response) {\n      // Request made and server responded\n      console.log(error.response.data);\n      console.log(error.response.status);\n      console.log(error.response.headers);\n    } else if (error.request) {\n      // The request was made but no response was received\n      console.log(error.request);\n    } else {\n      // Something happened in setting up the request that triggered an Error\n      console.log('Error', error.message);\n    }\n  });\n  return data;\n};","map":{"version":3,"sources":["/home/chir/Desktop/Github/weatherapp/src/api/fetchweather.js"],"names":["axios","dotenv","URL","result","config","path","error","console","log","parsed","fetchWeather","query","process","env","API_KEY","data","get","params","q","appid","units","catch","response","status","headers","request","message"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,MAAMC,GAAG,GAAG,iDAAZ;AAEA,MAAMC,MAAM,GAAGF,MAAM,CAACG,MAAP,CAAc;AAAEC,EAAAA,IAAI,EAAE;AAAR,CAAd,CAAf;;AACA,IAAIF,MAAM,CAACG,KAAX,EAAkB;AAChB,QAAMH,MAAM,CAACG,KAAb;AACD;;AAEDC,OAAO,CAACC,GAAR,CAAYL,MAAM,CAACM,MAAnB;AACA,OAAO,MAAMC,YAAY,GAAG,MAAOC,KAAP,IAAe;AACzCJ,EAAAA,OAAO,CAACC,GAAR,CAAYI,OAAO,CAACC,GAAR,CAAYC,OAAxB;AACF,QAAMC,IAAI,GAAG,MAAMf,KAAK,CAACgB,GAAN,CAAUd,GAAV,EAAe;AAC9Be,IAAAA,MAAM,EAAC;AACHC,MAAAA,CAAC,EAACP,KADC;AAEHQ,MAAAA,KAAK,EAAEP,OAAO,CAACC,GAAR,CAAYC,OAFhB;AAGHM,MAAAA,KAAK,EAAC;AAHH;AADuB,GAAf,EAOlBC,KAPkB,CAOZ,UAAUf,KAAV,EAAiB;AACxB,QAAIA,KAAK,CAACgB,QAAV,EAAoB;AACd;AACAf,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACgB,QAAN,CAAeP,IAA3B;AACAR,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACgB,QAAN,CAAeC,MAA3B;AACAhB,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACgB,QAAN,CAAeE,OAA3B;AACD,KALL,MAKW,IAAIlB,KAAK,CAACmB,OAAV,EAAmB;AACxB;AACAlB,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACmB,OAAlB;AACD,KAHM,MAGA;AACL;AACAlB,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,KAAK,CAACoB,OAA3B;AACD;AACF,GApBgB,CAAnB;AAqBA,SAAOX,IAAP;AACC,CAxBM","sourcesContent":["import axios from 'axios';\nimport dotenv from 'dotenv';\nconst URL = 'https://api.openweathermap.org/data/2.5/weather';\n\nconst result = dotenv.config({ path: '../.env' })\nif (result.error) {\n  throw result.error\n}\n\nconsole.log(result.parsed)\nexport const fetchWeather = async (query)=>{\n  console.log(process.env.API_KEY)\nconst data = await axios.get(URL, {\n    params:{\n        q:query,\n        appid: process.env.API_KEY,\n        units:'Metric'\n    }\n})\n.catch(function (error) {\nif (error.response) {\n      // Request made and server responded\n      console.log(error.response.data);\n      console.log(error.response.status);\n      console.log(error.response.headers);\n    } else if (error.request) {\n      // The request was made but no response was received\n      console.log(error.request);\n    } else {\n      // Something happened in setting up the request that triggered an Error\n      console.log('Error', error.message);\n    }\n  });\nreturn data\n}"]},"metadata":{},"sourceType":"module"}