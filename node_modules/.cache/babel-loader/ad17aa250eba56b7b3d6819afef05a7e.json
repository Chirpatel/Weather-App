{"ast":null,"code":"import _regeneratorRuntime from\"/home/chir/Desktop/Github/weatherapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/chir/Desktop/Github/weatherapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/chir/Desktop/Github/weatherapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import'./App.css';import{fetchWeather}from'./api/fetchweather';var App=function App(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),query=_useState2[0],setQuery=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),weather=_useState4[0],setWeather=_useState4[1];var search=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(e.key==='Enter'){searchenter();}case 1:case\"end\":return _context.stop();}}},_callee);}));return function search(_x){return _ref.apply(this,arguments);};}();var searchenter=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!query.match(/^[A-Za-z]+$/)){_context2.next=8;break;}_context2.next=3;return fetchWeather(query);case 3:data=_context2.sent;console.log(data);if(data!==undefined){setWeather(data.data);setQuery('');}else{popup();}_context2.next=9;break;case 8:popup();case 9:case\"end\":return _context2.stop();}}},_callee2);}));return function searchenter(){return _ref2.apply(this,arguments);};}();var popup=function popup(){console.log('Invalid');setWeather('Invalid');console.log(weather);};return/*#__PURE__*/React.createElement(\"div\",{className:\"main-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"inputbox\"},/*#__PURE__*/React.createElement(\"input\",{id:\"input\",type:\"text\",className:\"search\",placeholder:\"Enter City Name\",value:query,onChange:function onChange(e){return setQuery(e.target.value);},onKeyPress:search}),/*#__PURE__*/React.createElement(\"button\",{onClick:searchenter},/*#__PURE__*/React.createElement(\"img\",{src:\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAABmJLR0QA/wD/AP+gvaeTAAACFElEQVRIib2Vv2tTURTHv7cpWtFBFyWJRaQNCO1YC+Kg9ceiQ+ogbs5KpVL/n25ODRbr6ipmKAVpKkjUQYV0EcFksZXk49Cv+gx5N++V4IHHubnvfO/nnnNvzgtKMWBa0h1Jc5JKnm5J2pT0PITwIU2byYAK8AzokW49oObNHAqyCHS82DbwGJgBjvuZ8VzDMW2gehhIF/gBPATGIrEFYAnYsyYbzOXqGLKQY3PXDGtnKqPPBOBBVkhC+8ja2rDAig93O1auiL4A7HiNqbS4MUlVSUHSagihB5zKAwohdCWteo3FGGje45f2K8B4HlhCezEGKnr8xf6KpAs5QZ/sS2kBg87kjKS7OUGx9f68aHk8af9Z0jJwOgfgnP1uDLTp8U37dUknJa0BExlBv7X11Ahg2lez4at6BHjj/0Y9dmWtLwBv3SEq0e24QQIs+XcZ2PLcPvAUuAfMA8U+7bLj1ofm7azabifXPTcO3HfXqANr7m/HErob3kgHOD8UZFHV6e+5rRQisQVnsu9svgKXnPHRrLC2xTvACjALnPAzCzzxmQB8B77xrzX6yxsrY434h6/rUk4CVwe8f9cPCxHglA5615yks47dlfRa0osQwkfHXZb0asASTUkLIYTWgHf5DZjg7xe335pAeSQgw4ou13+BlSKwjZGBErDmANDWSEGGlYH3CchP4PbIQQnYBgdt7JYk/QLo+O8OUiOPTAAAAABJRU5ErkJggg==\",alt:\"Search\"}))),weather===\"Invalid\"&&/*#__PURE__*/React.createElement(\"div\",{className:\"city\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Invalid City name\")),weather.main&&/*#__PURE__*/React.createElement(\"div\",{className:\"city\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"city-name\"},/*#__PURE__*/React.createElement(\"span\",null,weather.name),/*#__PURE__*/React.createElement(\"sup\",null,weather.sys.country)),/*#__PURE__*/React.createElement(\"div\",{className:\"city-temp\"},Math.round(weather.main.temp),/*#__PURE__*/React.createElement(\"sup\",null,\"\\xB0C\")),/*#__PURE__*/React.createElement(\"div\",{className:\"info\"},/*#__PURE__*/React.createElement(\"img\",{className:\"city-icon\",src:\"https://openweathermap.org/img/wn/\".concat(weather.weather[0].icon,\"@2x.png\"),alt:weather.weather[0].description}),/*#__PURE__*/React.createElement(\"p\",null,weather.weather[0].description))));};export default App;","map":{"version":3,"sources":["/home/chir/Desktop/Github/weatherapp/src/App.js"],"names":["React","useState","fetchWeather","App","query","setQuery","weather","setWeather","search","e","key","searchenter","match","data","console","log","undefined","popup","target","value","main","name","sys","country","Math","round","temp","icon","description"],"mappings":"8cAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,MAAO,WAAP,CACA,OAAQC,YAAR,KAA2B,oBAA3B,CACA,GAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,EAAI,eACcF,QAAQ,CAAC,EAAD,CADtB,wCACLG,KADK,eACEC,QADF,8BAEiBJ,QAAQ,CAAC,EAAD,CAFzB,yCAELK,OAFK,eAEGC,UAFH,eAGZ,GAAMC,CAAAA,MAAM,0FAAG,iBAAOC,CAAP,kHACX,GAAGA,CAAC,CAACC,GAAF,GAAU,OAAb,CAAqB,CACjBC,WAAW,GACd,CAHU,sDAAH,kBAANH,CAAAA,MAAM,4CAAZ,CAKA,GAAMG,CAAAA,WAAW,2FAAG,qJACbP,KAAK,CAACQ,KAAN,CAAY,aAAZ,CADa,iDAEOV,CAAAA,YAAY,CAAEE,KAAF,CAFnB,QAENS,IAFM,gBAGZC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACA,GAAGA,IAAI,GAAGG,SAAV,CAAoB,CAChBT,UAAU,CAACM,IAAI,CAACA,IAAN,CAAV,CACAR,QAAQ,CAAC,EAAD,CAAR,CACH,CAHD,IAII,CACAY,KAAK,GACR,CAVW,8BAaZA,KAAK,GAbO,wDAAH,kBAAXN,CAAAA,WAAW,2CAAjB,CAiBA,GAAMM,CAAAA,KAAK,CAAE,QAAPA,CAAAA,KAAO,EAAI,CACbH,OAAO,CAACC,GAAR,CAAY,SAAZ,EACAR,UAAU,CAAC,SAAD,CAAV,CACAO,OAAO,CAACC,GAAR,CAAYT,OAAZ,EACH,CAJD,CAKA,mBACI,2BAAK,SAAS,CAAC,gBAAf,eACI,2BAAK,SAAS,CAAC,UAAf,eACA,6BAAO,EAAE,CAAE,OAAX,CAAmB,IAAI,CAAC,MAAxB,CAA+B,SAAS,CAAC,QAAzC,CAAkD,WAAW,CAAE,iBAA/D,CAAiF,KAAK,CAAEF,KAAxF,CAA+F,QAAQ,CAAE,kBAACK,CAAD,QAAOJ,CAAAA,QAAQ,CAACI,CAAC,CAACS,MAAF,CAASC,KAAV,CAAf,EAAzG,CAA0I,UAAU,CAAEX,MAAtJ,EADA,cAEA,8BAAQ,OAAO,CAAEG,WAAjB,eAA8B,2BAAK,GAAG,CAAC,o0BAAT,CAA80B,GAAG,CAAC,QAAl1B,EAA9B,CAFA,CADJ,CAKKL,OAAO,GAAG,SAAV,eACG,2BAAK,SAAS,CAAC,MAAf,eACI,kDADJ,CANR,CAUKA,OAAO,CAACc,IAAR,eACG,2BAAK,SAAS,CAAC,MAAf,eACI,0BAAI,SAAS,CAAC,WAAd,eACI,gCAAOd,OAAO,CAACe,IAAf,CADJ,cAEI,+BAAMf,OAAO,CAACgB,GAAR,CAAYC,OAAlB,CAFJ,CADJ,cAKI,2BAAK,SAAS,CAAC,WAAf,EACKC,IAAI,CAACC,KAAL,CAAWnB,OAAO,CAACc,IAAR,CAAaM,IAAxB,CADL,cAEI,uCAFJ,CALJ,cASI,2BAAK,SAAS,CAAC,MAAf,eACI,2BAAK,SAAS,CAAC,WAAf,CAA0B,GAAG,6CAAuCpB,OAAO,CAACA,OAAR,CAAgB,CAAhB,EAAmBqB,IAA1D,WAA7B,CAAsG,GAAG,CAAErB,OAAO,CAACA,OAAR,CAAgB,CAAhB,EAAmBsB,WAA9H,EADJ,cAEI,6BAAItB,OAAO,CAACA,OAAR,CAAgB,CAAhB,EAAmBsB,WAAvB,CAFJ,CATJ,CAXR,CADJ,CA6BH,CA3DD,CA6DA,cAAezB,CAAAA,GAAf","sourcesContent":["import React, {useState} from 'react';\nimport './App.css';\nimport {fetchWeather} from './api/fetchweather';\nconst App = ()=>{\n    const [query, setQuery] = useState('');\n    const [weather,setWeather] = useState({});\n    const search = async (e)=>{\n        if(e.key === 'Enter'){\n            searchenter();\n        }\n    }\n    const searchenter = async ()=>{\n        if(query.match(/^[A-Za-z]+$/)){\n            const data = await fetchWeather (query);\n            console.log(data)\n            if(data!==undefined){\n                setWeather(data.data);\n                setQuery('');\n            }\n            else{\n                popup();\n            }\n        }\n        else{\n            popup();\n        }\n        \n    }\n    const popup =()=>{\n        console.log('Invalid');\n        setWeather('Invalid');\n        console.log(weather);\n    }\n    return(\n        <div className='main-container'>\n            <div className=\"inputbox\">\n            <input id =\"input\" type='text' className=\"search\" placeholder ='Enter City Name' value={query} onChange={(e) => setQuery(e.target.value)} onKeyPress={search}/>\n            <button onClick={searchenter}><img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAABmJLR0QA/wD/AP+gvaeTAAACFElEQVRIib2Vv2tTURTHv7cpWtFBFyWJRaQNCO1YC+Kg9ceiQ+ogbs5KpVL/n25ODRbr6ipmKAVpKkjUQYV0EcFksZXk49Cv+gx5N++V4IHHubnvfO/nnnNvzgtKMWBa0h1Jc5JKnm5J2pT0PITwIU2byYAK8AzokW49oObNHAqyCHS82DbwGJgBjvuZ8VzDMW2gehhIF/gBPATGIrEFYAnYsyYbzOXqGLKQY3PXDGtnKqPPBOBBVkhC+8ja2rDAig93O1auiL4A7HiNqbS4MUlVSUHSagihB5zKAwohdCWteo3FGGje45f2K8B4HlhCezEGKnr8xf6KpAs5QZ/sS2kBg87kjKS7OUGx9f68aHk8af9Z0jJwOgfgnP1uDLTp8U37dUknJa0BExlBv7X11Ahg2lez4at6BHjj/0Y9dmWtLwBv3SEq0e24QQIs+XcZ2PLcPvAUuAfMA8U+7bLj1ofm7azabifXPTcO3HfXqANr7m/HErob3kgHOD8UZFHV6e+5rRQisQVnsu9svgKXnPHRrLC2xTvACjALnPAzCzzxmQB8B77xrzX6yxsrY434h6/rUk4CVwe8f9cPCxHglA5615yks47dlfRa0osQwkfHXZb0asASTUkLIYTWgHf5DZjg7xe335pAeSQgw4ou13+BlSKwjZGBErDmANDWSEGGlYH3CchP4PbIQQnYBgdt7JYk/QLo+O8OUiOPTAAAAABJRU5ErkJggg==\" alt=\"Search\"/></button>\n            </div>\n            {weather===\"Invalid\" && (\n                <div className='city'>\n                    <h1>Invalid City name</h1>\n                </div>\n            )}\n            {weather.main && (\n                <div className='city'>\n                    <h2 className='city-name'>\n                        <span>{weather.name}</span>\n                        <sup>{weather.sys.country}</sup>\n                    </h2>\n                    <div className='city-temp'>\n                        {Math.round(weather.main.temp)}\n                        <sup>&deg;C</sup>\n                    </div>\n                    <div className='info'>\n                        <img className='city-icon'src={`https://openweathermap.org/img/wn/${weather.weather[0].icon}@2x.png`} alt={weather.weather[0].description} />\n                        <p>{weather.weather[0].description}</p>    \n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}